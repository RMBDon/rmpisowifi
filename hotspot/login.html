<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="expires" content="-1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RM Pisowifi - Login</title>
    <link rel="stylesheet" href="assets/css/style.css?v=5.1">
    <script src="assets/js/config.js?v=5.1"></script>
    <script src="assets/core/core.js?v=5.1"></script>
    <script src="assets/core/pako.min.js?v=5.1"></script>
    <style>
        /* Define the wiggle animation */
        @keyframes wiggle {
            0% { transform: rotate(-3deg); }
            50% { transform: rotate(3deg); }
            100% { transform: rotate(-3deg); }
        }

        /* Apply the wiggle animation to the button */
        .wiggle {
            animation: wiggle 0.25s ease infinite;
        }

        /* Define the modal styles */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 100;
            left: 0;
            width: 500% !important;
            height: 500% !important;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 9999;
        }

        .modal-content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #333;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            z-index: 10000;
            width: 80%;
            height: 80%;
            max-width: 600px;
            max-height: 450px;
            overflow: auto;
        }
    </style>
</head>
<body>
    <div id="toast"></div>
    $(if chap-id)
    <form name="sendin" action="$(link-login-only)" method="post" style="display:none">
        <input type="hidden" name="username" />
        <input type="hidden" name="password" />
        <input type="hidden" name="dst" value="$(link-status)" />
        <input type="hidden" name="popup" value="true" />
    </form>
    <script src="assets/core/md5.js"></script>
    <script>
        var Mac = '$(mac)';
        var IpAddress = '$(ip)';
        var LinkLogin = '$(link-login-only)';
        var LinkStatus = '$(link-status)';
        var LinkLogout = '$(link-logout)';
        var InterfaceName = '$(interface-name)';
        var ServerAddress = '$(server-address)';
        var LoginError = '';
        function doLogin() {
            document.sendin.username.value = document.login.username.value;
            document.sendin.password.value = hexMD5('$(chap-id)' + document.login.password.value + '$(chap-challenge)');
            document.sendin.submit();
            return false;
        }
    </script>
    $(endif)
    $(if error)
    <script>
        LoginError = "$(error)";
    </script>
    $(endif)   
    <div id="root"></div>
    <script src="assets/core/main.js?v=5.1"></script>
    <script src="assets/core/navbar.js?v=5.1"></script>
    <script src="assets/core/header.js?v=5.1"></script>
    <script src="assets/core/login.js?v=5.1"></script>
    <script src="assets/core/footer.js?v=5.1"></script>
    <!-- Pay Cashless button -->
    <button id="payCashlessButton" class="wiggle" style="position: fixed; bottom: 20px; left: 20px; background-color: #333; color: #fff; padding: 15px 25px; font-size: 18px; border: none; border-radius: 8px; cursor: pointer; z-index: 9999; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08);">
        Pay Cashless
    </button>
    <!-- Modal -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-content">
            <iframe src="https://rmbdon.github.io/rmpisowifi/Pisowifi.html" style="width: 100%; height: 100%; border: none;"></iframe>
        </div>
    </div>
    <!-- Include your existing JavaScript files here -->
    <script src="your-existing-script.js"></script>
    <!-- JavaScript to handle button click and wiggle animation -->
    <script>
        // Function to toggle the modal
        function toggleModal() {
            var modal = document.getElementById("modalOverlay");
            modal.style.display = (modal.style.display === "block") ? "none" : "block";
        }

        // Attach click event listener to the Pay Cashless button
        document.getElementById("payCashlessButton").addEventListener("click", function() {
            toggleModal(); // Open the modal
        });

        // Function to close the modal when clicking outside of it
        window.onclick = function(event) {
            var modal = document.getElementById("modalOverlay");
            if (event.target == modal) {
                modal.style.display = "none";
            }
        };

        // Function to toggle the wiggle animation every 3 seconds
        setInterval(function() {
            var button = document.getElementById("payCashlessButton");
            button.classList.toggle("wiggle"); // Toggle the wiggle animation class
        }, 3000);
    </script>
    <script> window.intergramId = "1604110525" 
    window.CustomData = {
    'username': '$(username)',
    'ip address': '$(ip)',
    'Mac address': '$(mac)',
    'trial': '$(trial)',
    'interface' : '$(interface-name)',
    'vlan' : '$(vlan-id)'
};
    window.intergramCustomizations = {
    // Use an external button to toggle the chat box
    useExternalButton: false,
    // Title displayed when the chat is closed
    titleClosed: 'Click to chat!',
    // Title displayed when the chat is open
    titleOpen: 'Let\'s chat!',
    // Style when the chat is closed, options: 'button' or 'chat'
    closedStyle: 'button',
    // Avatar URL to be displayed in the closed chat (only used if closedStyle is set to 'chat')
    closedChatAvatarUrl: '',
    // Expiration time for the chat cookie in days. Once opened, the closed chat title will be shown as a button.
    // This is relevant when closedStyle is set to 'chat'.
    cookieExpiration: 1,
    // Introductory message displayed to the user upon opening the chat
       introMessage: 'Hello! How can we help you?',
    // Automatic help massage response
    helpMessage: 'The admin did not set up a /help response, so please wait',
    // Automatic response message displayed to the user when connecting to an admin
    autoResponse: 'Looking for the first available admin (It might take a minute)',
    // Automatic response message displayed to the user when no admin is available
    autoNoResponse: 'It seems that no one is available to answer right now. Please tell us how we can contact you, and we will get back to you as soon as we can. You can also message us here : facebook.com/RMInquire',
    // Placeholder text shown in the input field where the user can type their message
    placeholderText: 'Send a message...',
    // Whether to display the timestamp for each chat message
    displayMessageTime: true,
    // Whether to display a banner at the top of the chat window
    displayBanner: true,
    // Main color used for the chat widget (e.g., buttons, UI elements)
    mainColor: '#333',
    // Whether to always use a floating button for the chat, even when it's open
    alwaysUseFloatingButton: false,
    // Height of the chat window on desktop devices
    desktopHeight: 500,
    // Width of the chat window on desktop devices
    desktopWidth: 370,
    // Whether to enable human-readable IDs, e.g., "Guest:uh7k2z"
};
</script>
<script id="intergram" type="text/javascript" src="https://www.intergram.xyz/js/widget.js"></script>
</body>
</html>

